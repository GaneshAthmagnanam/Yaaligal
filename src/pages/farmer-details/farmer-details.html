<!--
  Generated template for the FarmerDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-menu [content]="content" type="overlay">
  <ion-header>
    <ion-toolbar color="farmGreen">
      <ion-title>
        <img *ngIf="authMethod=='3'" id="image" src={{loggedUserImage}} />
        <img *ngIf="authMethod=='2'" id="image" src={{loggedUserImage}} />
        <div id="iconItem" *ngIf="authMethod=='1'">
         <ion-icon name="person"></ion-icon></div>
        <div id="uname">
          {{loggedUserName}}

        </div>
        <div id="uemail">
          {{mailIdentifier}}
        </div>
      </ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>

    <ion-list>
      <button id="list" menuClose ion-item *ngFor="let p of pages" (click)="openPage(p)">
        <span *ngIf="p.title=='Logout'">
        <ion-icon id="more" name="log-out"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='Home'">
        <ion-icon id="more" name="home"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='My Profile'">
        <ion-icon id="more" name="person"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='Contribute to Farmers Account'">
        <ion-icon id="more" name="hand"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        
        <span *ngIf="p.title=='Farmers Details'">
        <ion-icon id="more" name="people"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='My Transactions'">
        <ion-icon id="more" name="information-circle"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='Benefited Farmers'">
        <ion-icon id="more" name="thumbs-up"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='Contributors List'">
        <ion-icon id="more" name="globe"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='Contact Us'">
        <ion-icon id="more" name="contacts"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
        <span *ngIf="p.title=='Rate SaveFarmer'">
        <ion-icon id="more" name="star"></ion-icon><span id="menuValues">{{p.title}}</span>
        </span>
      </button>
    </ion-list>
  </ion-content>

</ion-menu>

<!-- Disable swipe-to-go-back because it's poor UX to combine STGB with side menus -->
<ion-nav [root]="rootPage" #content swipeBackEnabled="true"></ion-nav>

<ion-header>

  <ion-navbar color="farmGreen">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <!--<button ion-button menuToggle>
      <ion-icon ios="ios-menu" md="md-menu"></ion-icon>
    </button>-->
    
    <ion-title>
      <!--<img id="image" src={{loggedUserImage}} (click)="presentProfileModal($event)" />-->
      <!--<ion-icon id="more" name="log-out" (click)="logout()"></ion-icon>-->

      <div id="title">Home</div>
      <ion-icon id="sort" name="funnel"></ion-icon>
      <!--<div *ng-src="content://com.miui.gallery.open/raw/%2Fstorage%2Femulated%2F0%2FDCIM%2FCamera%2FIMG_20170920_170252.jpg"></div>-->
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div id="refresh">pull to refresh
</div>
<ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <!-- <div id="welcomeMsg">Welcome {{loggedUserName}}  </div>-->
  <ion-searchbar [(ngModel)]="searchQuery" (ionInput)="getItems($event)" placeholder="Search farmer name" animated=true autocomplete="on"></ion-searchbar>
  <!--<table>
    <tr>
    <th >
      <div id="oneTH">Farmers Details</div></th>
   <th >
      <div id="twoTH">Contributors Count</div></th>
    </tr>
  </table>-->
  <ion-list >
   
    <table>

      <ion-item *ngFor="let detail of infiniteScrollFdetails; let i = index">
      <tr>

        
        <td (click)="farmerDetails(detail.uid)">
          <!--<ion-item (click)="farmerDetails(detail.uid)">-->
            <ion-avatar item-start>
              <img src="assets/farmer.jpg">
            </ion-avatar></td>
            <td (click)="farmerDetails(detail.uid)">
            <div id="name">{{detail.name}}</div>

            <!--<div id="detail1">Pending Months: {{detail.pendingmonths}}</div>
            <div id="detail2">Contributors Counts:<ion-icon id="myicon" name="arrow-forward"></ion-icon></div>
            
            --><div id="detail3">Loan pending: Rs.{{detail.loanamount}}</div>
            
            
          <!--</ion-item>-->
            </td>
        <td id="tdata">
         
          <button id="contributors" ion-button icon-end block type="submit" (click)="showContributors(i)">
        {{detail.contributedcount}}  
        </button>
          
        </td>
        
      </tr>
     </ion-item>
    </table>
   
  </ion-list>
  <div *ngIf="flag==true" id="noContent">{{noItems}}</div>
  <!--infinite scroll-->
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
  

</ion-content>
<!--<ion-nav [root]="rootPage"></ion-nav>-->